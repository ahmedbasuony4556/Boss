{% extends "base.html" %}
{% block title %}Login - MobileStore{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='login.css') }}">
{% endblock %}
{% block content %}
<div class="container">
    <h1><a href="{{ url_for('bp.home') }}">Home</a></h1>
    <h2>Login</h2>
    <form id="loginForm" method="POST" action="{{ url_for('bp.login') }}">
        <div class="input-container">
            <label for="identifier">Username or Email</label>
            <input type="text" id="loginIdentifier" name="identifier" required>
            <i class="fas fa-user"></i>
        </div>
        <div class="input-container">
            <label for="password">Password</label>
            <input type="password" id="loginPassword" name="password" required>
            <i class="fas fa-lock"></i>
            <span id="togglePassword">👁️</span>
        </div>
        <button type="submit" class="submit-btn">Login</button>
        <a href="{{ url_for('bp.signup') }}" style="color: white;">I don't have an account</a>

        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <div class="error-message">{{ messages[0] }}</div>
        {% endif %}
        {% endwith %}
    </form>
</div>
{% endblock %}
{% block scripts %}
<script src="{{ url_for('static', filename='js/login.js') }}"></script>
{% endblock %}
